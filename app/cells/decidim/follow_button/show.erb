<div id="<%= dom_id(model, :follow) %>">
  <% if current_user %>
    <% if current_user.follows?(model) %>
      <%= button_to decidim.follow_path, class: button_classes + " success", params: { follow: { followable_gid: model.to_sgid.to_s, inline: inline? } }, data: { disable: true }, method: :delete, remote: true do %>
        <i class="fa fa-bell"></i>
        <span>
          <%= t("follows.destroy.button", scope: "decidim") %>
        </span>
      <% end %>
    <% else %>
      <%= button_to decidim.follow_path, class: button_classes + " hollow secondary", params: { follow: { followable_gid: model.to_sgid.to_s, inline: inline? } }, data: { disable: true }, remote: true do %>
        <i class="fa fa-bell"></i>
        <span>
          <%= t("follows.create.button", scope: "decidim") %>
        </span>
      <% end %>
    <% end %>
  <% else %>
    <div>
      <button data-open="<%= "loginModal" %>"
              aria-controls="<%= "loginModal" %>"
              aria-haspopup="true"
              class="<%= button_classes + " hollow secondary" %>">
        <i class="fa fa-bell"></i>
        <span>
          <%= t("follows.create.button", scope: "decidim") %>
        </span>
      </button>
    </div>
  <% end %>
</div>
